# 2PC & 3PC
> [二阶段协议](http://ifeve.com/distribute-transaction-2pc/)

```text
三阶段与二阶段最大不同在于三阶段协议把二阶段的第一阶段拆分为了两个阶段，
其中第一阶段并不锁定资源，而是询问参与者是否可以提交，
等所有参与者回复OK后在具体执行第二阶段锁定资源。理论上如果第一阶段返回都OK，
则第二阶段和三阶段执行成功的概率就很大，另外如果第一阶段有些参与者返回了fail，
由于这时候其他参与者还没有锁定资源，所以不会造成资源的阻塞。
```
